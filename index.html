<!--
This file is intended to be used just as a shell for loading map and hence all the
required codes are in the project.map.js file
-->

<html>
<head>
  <style>
    html,body{
      height:100%;
      width:100%;
      margin:0;
      padding:0;
    }
    #map{
      height:100%;
      width:100%;
    }
  </style>
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.2.0/dist/leaflet.css"
   integrity="sha512-M2wvCLH6DSRazYeZRIm1JnYyh22purTM+FDB5CsyxtQJYeKq83arPe5wgbNmcFXGqiSH2XR8dT/fJISVA1r/zQ=="
   crossorigin=""/>
  <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" 
   integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
  <script src="https://unpkg.com/leaflet@1.2.0/dist/leaflet.js"
   integrity="sha512-lInM/apFSqyy1o6s89K4iQUKg6ppXEgsVxT35HbzUupEVRh2Eu9Wdl4tHj7dZO0s1uvplcYGmt3498TtHq+log=="
   crossorigin=""></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" 
   integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
  <script src="https://cdn.rawgit.com/calvinmetcalf/shapefile-js/gh-pages/dist/shp.js"></script>
  <script src="https://cdn.rawgit.com/calvinmetcalf/leaflet.shapefile/gh-pages/leaflet.shpfile.js"></script>
</head>
<body>
  <div id='map'></div>
  <script src='project.map.js'></script>
  <script>
    var gjson = {
      "type": "Feature",
      "geometry": {
        "type": "Point",
        "coordinates": [85.3081512451172, 27.70784710660343]
      },
      "properties": {
        "title": "Dinagat Islands",
        "summary": "native land of night owls ... ",
        "id":123
      }
    };
    //setup parameters
    //mapapp.setApiURL(URL to ARI folder)
    mapapp.updateData(gjson);
    
    //this is demo of loading a shape file
    //users should zip the shapefile bundle before selecting
    //THIS WILL NOT UPLOAD THE SHAPEFILE!!! It will just load 
    //it in the current map
    mapapp.loadShapefile("test.zip"); 
    
    //to test if shape file is completely loaded check the boolean
    mapapp.isShapefileLoaded
    
    //to provice a callback function to call when shapefile is loaded
    //provide the function as an additional argument
    mapapp.loadShapefile("test.zip", function(){
      //to get a geoJSON to upload it to server
      //will return false if shape file is not loaded
      console.log(mapapp.getGeoJSONofShape());      
    }); 
    
    //to remove the shapefile (if required) simply do
    mapapp.removeShapefile();
    
  </script>
</body>
</html>